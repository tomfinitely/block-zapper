(()=>{"use strict";var e,o={687:()=>{const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,i=window.wp.components,a=window.wp.data,r=window.wp.element,l=window.ReactJSXRuntime,s=JSON.parse('{"UU":"telex/block-zapper"}');(0,e.registerBlockType)(s.UU,{icon:{src:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 914.61 846.29",children:[(0,l.jsx)("path",{d:"M101.91,754.06C48.37,749.16,4.83,705.87,0,652.08V106.15C4.52,48.8,46.56,4.31,104.6.01h578.95c43.64,3.36,70.39,32.99,71.83,76.04l-52.05,251.06h188.16c4.71,0,18.2,13.44,20.38,17.93,4.26,8.78,2.88,13.8.4,22.71l-319.15,472.45c-12.49,9.19-35.13,8.72-42.38-6.78-7.8-16.65,9.69-60.53,11.65-79.38H101.91ZM614.38,513.22h-175.84c-16.38,0-28.22-30.55-17.35-43.35,81.72-125.74,174.5-245.93,255.67-371.65,13.33-20.64,28.06-37.68-9.73-40.75H116.9c-34.08.7-55.14,18.57-58.06,52.78l-.07,535.06c2.56,28.24,19.42,46.4,47.18,51.35l468.69-.15,39.76-183.29ZM483.02,465.33h162.16c11.86,0,23.61,16.39,21.19,28l-47.2,223.78,229.22-340.73h-175.84c-11.59,0-24.15-13.34-23.97-25.23l39.73-183.43-2.73-.69-202.55,298.3Z",style:{fill:"#2b2d2d"}}),(0,l.jsx)("path",{d:"M483.02,465.33l202.55-298.3,2.73.69-39.73,183.43c-.18,11.89,12.39,25.23,23.97,25.23h175.84l-229.22,340.73,47.2-223.78c2.42-11.61-9.33-28-21.19-28h-162.16Z",style:{fill:"#fdce45"}})]})},edit:function(s){var n,c,d,p,m,u,h;const{clientId:g,attributes:b,setAttributes:k}=s,v=(0,t.useBlockProps)(),[x,y]=(0,r.useState)(!1),[C,f]=(0,r.useState)(""),[z,w]=(0,r.useState)(null),[S,A]=(0,r.useState)("selective"),[j,B]=(0,r.useState)({blockSettings:null===(n=b.zapBlockSettings)||void 0===n||n,blockStyles:null===(c=b.zapBlockStyles)||void 0===c||c,customProperties:null===(d=b.zapCustomProperties)||void 0===d||d,keepMedia:null===(p=b.zapKeepMedia)||void 0===p||p,customClasses:null===(m=b.zapCustomClasses)||void 0===m||m,customAnchors:null===(u=b.zapCustomAnchors)||void 0===u||u,htmlElements:null===(h=b.zapHtmlElements)||void 0===h||h}),{updateBlockAttributes:P,replaceBlock:E}=(0,a.useDispatch)("core/block-editor"),_=(0,a.useSelect)(e=>{try{const o=e("core/block-editor").getBlocks(g);return Array.isArray(o)?o:[]}catch(e){return[]}},[g]);(0,r.useEffect)(()=>{if(C){const e=setTimeout(()=>{f("")},1e4);return()=>clearTimeout(e)}},[C]),(0,r.useEffect)(()=>{k({zapBlockSettings:j.blockSettings,zapBlockStyles:j.blockStyles,zapCustomProperties:j.customProperties,zapKeepMedia:j.keepMedia,zapCustomClasses:j.customClasses,zapCustomAnchors:j.customAnchors,zapHtmlElements:j.htmlElements})},[j,k]);const T=e=>e&&"object"==typeof e&&e.attributes||{},M=(o,t=!1,i=!1)=>{if(!o||!o.name)return console.warn("Invalid block passed to createCleanBlock:",o),null;const a=T(o),{cleanedAttributes:r,removedAttributes:l}=((e,o=!1,t=!1)=>{const i=((e,o,t)=>{const i=new Set;return["content","href","text","level","tagName","value","label","placeholder","title","type","checked","selected","disabled","required","multiple","name","headers","scope"].forEach(e=>i.add(e)),e?o&&["src","srcset","sizes","alt","caption","id","url","linkDestination","linkTarget","rel","poster","preload","autoplay","controls","loop","muted","playsInline","crossOrigin","sizeSlug","blob","mediaId","mediaType","mediaUrl","aspectRatio","width","height","scale","linkClass","linkText","showDownloadButton","downloadButtonText","style","mediaPosition","mediaType","mediaUrl","mediaId","mediaAlt","mediaWidth","mediaHeight","mediaSize","mediaSizes","mediaSrcset","videoId","videoUrl","videoAlt","videoPoster","videoAutoplay","videoLoop","videoMuted","videoControls","videoPreload","imageId","imageUrl","imageAlt","imageCaption","imageWidth","imageHeight","imageSize","imageSizes","imageSrcset","imageFocalPoint","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundClip","backgroundOrigin","focalPoint","hasParallax","isRepeated","useFeaturedImage","backgroundType","overlayColor","customOverlayColor","dimRatio","gradient","customGradient","metadata","layout","minHeight","minHeightUnit","icon","iconName","iconLibrary","iconSet","iconSize","iconColor","iconBackgroundColor","iconBorderColor","iconBorderRadius","iconBorderWidth","iconPadding","iconMargin","iconRotation","iconFlip","iconAlign","iconLink","iconLinkTarget","iconLinkRel","iconCustomSvg","iconCustomPath","iconCustomViewBox","iconCustomWidth","iconCustomHeight"].forEach(e=>i.add(e)):(o&&["src","srcset","sizes","alt","caption","id","url","linkDestination","linkTarget","rel","poster","preload","autoplay","controls","loop","muted","playsInline","crossOrigin","sizeSlug","blob","mediaId","mediaType","mediaUrl","aspectRatio","width","height","scale","linkClass","linkText","showDownloadButton","downloadButtonText","style","mediaPosition","mediaType","mediaUrl","mediaId","mediaAlt","mediaWidth","mediaHeight","mediaSize","mediaSizes","mediaSrcset","videoId","videoUrl","videoAlt","videoPoster","videoAutoplay","videoLoop","videoMuted","videoControls","videoPreload","imageId","imageUrl","imageAlt","imageCaption","imageWidth","imageHeight","imageSize","imageSizes","imageSrcset","imageFocalPoint","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundClip","backgroundOrigin","focalPoint","hasParallax","isRepeated","useFeaturedImage","backgroundType","overlayColor","customOverlayColor","dimRatio","gradient","customGradient","metadata","layout","minHeight","minHeightUnit","icon","iconName","iconLibrary","iconSet","iconSize","iconColor","iconBackgroundColor","iconBorderColor","iconBorderRadius","iconBorderWidth","iconPadding","iconMargin","iconRotation","iconFlip","iconAlign","iconLink","iconLinkTarget","iconLinkRel","iconCustomSvg","iconCustomPath","iconCustomViewBox","iconCustomWidth","iconCustomHeight"].forEach(e=>i.add(e)),t.blockSettings||["orientation","verticalAlignment","templateLock","allowedBlocks","layout","templateInsertUpdatesSelection"].forEach(e=>i.add(e)),t.blockStyles||["backgroundColor","textColor","customBackgroundColor","customTextColor","gradient","customGradient","overlayColor","customOverlayColor"].forEach(e=>i.add(e)),t.customProperties||["fontSize","customFontSize","fontFamily","fontStyle","fontWeight","letterSpacing","textDecoration","textTransform","lineHeight","margin","padding","blockGap","borderColor","customBorderColor","borderRadius","borderWidth","borderStyle","shadow","filter","position","zIndex","top","right","bottom","left"].forEach(e=>i.add(e)),t.customClasses||["className"].forEach(e=>i.add(e)),t.customAnchors||["anchor"].forEach(e=>i.add(e)),t.htmlElements||["align","nodeName"].forEach(e=>i.add(e))),i})(o,t,j),a={},r=[];return Object.keys(e).forEach(o=>{i.has(o)?a[o]=e[o]:r.push(o)}),{cleanedAttributes:a,removedAttributes:r}})(a,t,i),s=[];Array.isArray(o.innerBlocks)&&o.innerBlocks.forEach(e=>{const o=M(e,t,i);o&&o.cleanBlock&&s.push(o.cleanBlock)});try{return{cleanBlock:(0,e.createBlock)(o.name,r,s),removedAttributes:l}}catch(e){return null}},R=(e,o)=>{B(t=>({...t,[e]:o}))},I=Array.isArray(_)?_.reduce((e,o)=>{const t=T(o);return e+Object.keys(t).length},0):0,L=Array.isArray(_)?_.length:0,Z=j.blockSettings||j.blockStyles||j.customProperties||j.customClasses||j.customAnchors||j.htmlElements,O="mega"===S?{label:x?(0,o.__)("ðŸ’¥ MEGA ZAPPING...","block-zapper-block-wp"):(0,o.__)("ðŸ’¥ MEGA ZAP!","block-zapper-block-wp"),ariaLabel:(0,o.__)("Mega Zap: Remove all styling properties while preserving content and media","block-zapper-block-wp"),color:"#dd0000",hoverColor:"#bb0000",activeColor:"#990000",disabled:x||0===L}:{label:x?(0,o.__)("âš¡ SELECTIVE ZAPPING...","block-zapper-block-wp"):(0,o.__)("âš¡ SELECTIVE ZAP!","block-zapper-block-wp"),ariaLabel:Z?(0,o.__)("Selective Zap: Remove selected property categories","block-zapper-block-wp"):(0,o.__)("Select at least one zap option to enable","block-zapper-block-wp"),color:Z?"#ff4444":"#ccc",hoverColor:"#cc3333",activeColor:"#aa2222",disabled:x||0===L||!Z};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.InspectorControls,{children:(0,l.jsxs)(i.PanelBody,{title:(0,o.__)("âš¡ Block Zapper Controls","block-zapper-block-wp"),initialOpen:!0,children:[(0,l.jsx)(i.Card,{children:(0,l.jsx)(i.CardBody,{children:(0,l.jsxs)("div",{style:{marginBottom:"16px",fontSize:"14px"},children:[(0,l.jsx)("strong",{children:"ðŸ“¦ Container Status:"}),(0,l.jsx)("br",{}),"ðŸ§± ",L," block(s) inside",(0,l.jsx)("br",{}),"ðŸ”¢ ",I," total properties",z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("br",{}),"ðŸ• Last zap: ",z]})]})})}),(0,l.jsxs)("div",{style:{margin:"16px 0"},children:[(0,l.jsx)(i.RadioControl,{label:(0,o.__)("ðŸŽ¯ Zap Mode","block-zapper-block-wp"),help:"mega"===S?(0,o.__)("Nuclear option: removes ALL styling, keeps only content + media (if selected)","block-zapper-block-wp"):(0,o.__)("Choose specific types of properties to remove with granular control","block-zapper-block-wp"),selected:S,options:[{label:"âš¡ Selective Zap (choose what to remove)",value:"selective"},{label:"ðŸ’¥ Mega Zap (nuclear option)",value:"mega"}],onChange:A,"aria-describedby":"zap-mode-description"}),(0,l.jsx)("div",{id:"zap-mode-description",className:"screen-reader-text",children:"selective"===S?(0,o.__)("Selective Zap allows you to choose specific categories to remove with granular control.","block-zapper-block-wp"):(0,o.__)("Mega Zap is the nuclear option that removes ALL styling properties while keeping only essential content and media.","block-zapper-block-wp")})]}),"selective"===S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"zapper-media-option",style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f8f9fa",border:"1px solid #e2e4e7",borderRadius:"4px"},children:[(0,l.jsx)(i.CheckboxControl,{label:"ðŸ“¸ Keep images and videos (recommended)",checked:j.keepMedia,onChange:e=>R("keepMedia",e),help:"Preserves media sources and related attributes","aria-describedby":"keep-media-description"}),(0,l.jsx)("div",{id:"keep-media-description",className:"screen-reader-text",children:(0,o.__)("When checked, preserves all media-related attributes including image sources, video settings, cover block backgrounds, and Icon Block plugin attributes.","block-zapper-block-wp")})]}),(0,l.jsx)("h4",{style:{margin:"16px 0 8px 0",fontSize:"14px",fontWeight:"600"},children:"Choose What to Zap:"}),(0,l.jsx)(i.CheckboxControl,{label:"âš™ï¸ Block settings (layout, alignment, etc.)",checked:j.blockSettings,onChange:e=>R("blockSettings",e),help:"Removes core block functionality settings"}),(0,l.jsx)(i.CheckboxControl,{label:"ðŸŽ¨ Block styles (colors, gradients, backgrounds)",checked:j.blockStyles,onChange:e=>R("blockStyles",e),help:"Removes color and gradient styling"}),(0,l.jsx)(i.CheckboxControl,{label:"ðŸ”§ Custom properties (fonts, spacing, borders, effects)",checked:j.customProperties,onChange:e=>R("customProperties",e),help:"Removes typography, margin, padding, borders, shadows"}),(0,l.jsx)(i.CheckboxControl,{label:"ðŸ“ Custom classes (Additional CSS class(es))",checked:j.customClasses,onChange:e=>R("customClasses",e),help:"Removes custom CSS classes from Advanced panel"}),(0,l.jsx)(i.CheckboxControl,{label:"âš“ Custom anchors (HTML anchor)",checked:j.customAnchors,onChange:e=>R("customAnchors",e),help:"Removes HTML anchor IDs from Advanced panel"}),(0,l.jsx)(i.CheckboxControl,{label:"ðŸ·ï¸ HTML element selections (alignment, tags)",checked:j.htmlElements,onChange:e=>R("htmlElements",e),help:"Removes alignment and HTML element choices"})]}),"mega"===S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{padding:"16px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",margin:"16px 0"},children:[(0,l.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"600",color:"#856404"},children:"ðŸ’¥ Mega Zap Mode"}),(0,l.jsxs)("p",{style:{margin:"0",fontSize:"13px",color:"#856404"},children:[(0,l.jsx)("strong",{children:"Warning:"})," This will remove ALL styling properties and customizations from blocks, keeping only essential content."]})]}),(0,l.jsx)("div",{className:"zapper-media-option zapper-mega-media-option",style:{padding:"12px",backgroundColor:"#f8f9fa",border:"1px solid #e2e4e7",borderRadius:"4px",marginTop:"16px"},children:(0,l.jsx)(i.CheckboxControl,{label:"ðŸ“¸ Keep images and videos (recommended)",checked:j.keepMedia,onChange:e=>R("keepMedia",e),help:"Preserves media sources and related attributes during mega zap"})})]}),(0,l.jsxs)("div",{style:{marginTop:"16px",marginBottom:"8px"},children:[(0,l.jsx)(i.Button,{variant:"secondary",onClick:()=>{y(!0);try{if(!Array.isArray(_)||0===_.length)return void f((0,o.__)("âš¡ No blocks to zap! Add some blocks inside this container first.","block-zapper-block-wp"));const e="mega"===S,t=j.keepMedia;if(!e&&!Object.entries(j).some(([e,o])=>"keepMedia"!==e&&!0===o))return void f((0,o.__)("âš ï¸ Please select at least one zap option to continue!","block-zapper-block-wp"));const i=((e,o=!1,t=!1)=>{if(!Array.isArray(e)||0===e.length)return{totalZapped:0,zapDetails:[],totalAttributesRemoved:0};let i=0;const a=[];let r=0;const l=[];return e.forEach(e=>{if(!e||!e.clientId)return void console.warn("Invalid block in zapBlocks:",e);const s=e.name?e.name.replace("core/",""):"unknown",n=T(e),c=Object.keys(n).length,d=M(e,o,t);if(!d||!d.cleanBlock)return void console.warn(`Could not create clean block for ${s}`);const p=d.cleanBlock,m=d.removedAttributes||[],u=Object.keys(p.attributes||{}).length,h=c-u;(h>0||m.length>0)&&(l.push({originalId:e.clientId,newBlock:p}),i++,r+=h,a.push({name:s,before:c,after:u,removed:h,removedAttributes:m}))}),l.forEach(({originalId:e,newBlock:o})=>{try{E(e,o)}catch(e){}}),{totalZapped:i,zapDetails:a,totalAttributesRemoved:r}})(_,e,t);if(w((new Date).toLocaleTimeString()),i.totalZapped>0){let a;if(e)a=`ðŸ’¥ MEGA ZAP COMPLETE! Nuked ${i.totalAttributesRemoved} properties from ${i.totalZapped} block(s). `,a+="Only essential content preserved",t&&(a+=" + media"),a+="! ðŸš€";else{const e=[];j.blockSettings&&e.push("âš™ï¸ settings"),j.blockStyles&&e.push("ðŸŽ¨ styles"),j.customProperties&&e.push("ðŸ”§ properties"),j.customClasses&&e.push("ðŸ“ classes"),j.customAnchors&&e.push("âš“ anchors"),j.htmlElements&&e.push("ðŸ·ï¸ elements"),a=`âš¡ SELECTIVE ZAP COMPLETE! Removed ${i.totalAttributesRemoved} properties from ${i.totalZapped} block(s). `,a+=`Zapped: ${e.join(", ")}.`,t&&(a+=" ðŸ“¸ Media preserved.")}f((0,o.__)(a,"block-zapper-block-wp"))}else{const t=e?"âœ¨ No properties found to mega zap! Blocks are already clean.":"âœ¨ No matching properties found to zap with your current settings!";f((0,o.__)(t,"block-zapper-block-wp"))}}catch(e){f((0,o.__)("âŒ Zap failed! Please try again or contact support if the issue persists.","block-zapper-block-wp"))}y(!1)},isBusy:x,disabled:O.disabled,"aria-label":O.ariaLabel,"aria-describedby":"zap-button-description",style:{backgroundColor:x?"#999":O.color,color:"#fff",border:"none",borderRadius:"4px",padding:"12px 24px",fontWeight:"bold",textTransform:"uppercase",fontSize:"16px",width:"100%"},children:O.label}),(0,l.jsx)("div",{id:"zap-button-description",className:"screen-reader-text",children:"mega"===S?(0,o.__)("Mega Zap will remove all styling properties while preserving content and media if selected.","block-zapper-block-wp"):(0,o.__)("Selective Zap will remove only the selected property categories.","block-zapper-block-wp")}),"selective"===S&&!Z&&(0,l.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px",textAlign:"center"},children:"Select at least one zap option to enable"}),"mega"===S&&0===L&&(0,l.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px",textAlign:"center"},children:"Add blocks to the container to enable mega zap"})]}),C&&(0,l.jsx)(i.Notice,{status:C.includes("COMPLETE")?"success":C.includes("failed")?"error":"info",isDismissible:!0,onRemove:()=>f(""),style:{marginTop:"12px",fontSize:"13px"},children:C})]})}),(0,l.jsx)("div",{...v,children:(0,l.jsx)(t.InnerBlocks,{tmplateLock:!1,renderAppender:t.InnerBlocks.DefaultAppender})})]})}})}},t={};function i(e){var a=t[e];if(void 0!==a)return a.exports;var r=t[e]={exports:{}};return o[e](r,r.exports,i),r.exports}i.m=o,e=[],i.O=(o,t,a,r)=>{if(!t){var l=1/0;for(d=0;d<e.length;d++){for(var[t,a,r]=e[d],s=!0,n=0;n<t.length;n++)(!1&r||l>=r)&&Object.keys(i.O).every(e=>i.O[e](t[n]))?t.splice(n--,1):(s=!1,r<l&&(l=r));if(s){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,a,r]},i.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};i.O.j=o=>0===e[o];var o=(o,t)=>{var a,r,[l,s,n]=t,c=0;if(l.some(o=>0!==e[o])){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(n)var d=n(i)}for(o&&o(t);c<l.length;c++)r=l[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},t=globalThis.webpackChunkblock_zapper=globalThis.webpackChunkblock_zapper||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var a=i.O(void 0,[350],()=>i(687));a=i.O(a)})();